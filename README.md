# このアプリケーションについて
これは選択したフォルダに保管されている全てのファイルをzipファイルに変換し、パスワードを設定するアプリです。機能は以下の通りです。
- zip変換機能
  - 選択したフォルダに配置されているファイルをzipファイルへ変換することができます。
  - zipファイルにはパスワードを設定することができます。
  - **注意**：これはあくまで特定のフォルダ内のファイルをzipへ変換するものであり、フォルダを変換することはできません。必ず選択したフォルダに配置されているのはファイルのみにしてください。

※状況に応じて、機能をアップデートしていく予定です。

# 事前準備
## pythonのインストール
Python 3.11.3をインストールしてください。バージョンが3.11.3である理由は開発時に使用していたためです。
```
brew install python@3.11
```

## 必要ファイルのダウンロード
GitHubから"PasswordZip"をダウンロードしてください。または次のプロンプトからリポジトリをクローンしてください。
```
git clone https://github.com/portfoliokns/PasswordZip.git
```

## 仮想環境の構築
次のプロンプトから仮想環境を構築し、必要なモジュールのインストールを行なってください。

venvの仮想環境を構築します。
```
python -m venv venv
```

構築した仮想環境を有効にします。macOSとwindowsではプロンプトが異なります
```
source venv/bin/activate
```

```
venv\Scripts\activate
```

## 仮想環境へモジュールをインストールする
仮想環境上に必要なモジュールを設定します。
```
pip install -r requirements.txt
```

## pyinstallerの実行
ターミナル上からpyinstallerを実行し、実行ファイルを書き出してください。
```
pyinstaller zip_password.py --onefile --noconsole
```
"dist"フォルダの中に、"zip_password.app"というファイルが作成されます。ただし環境によっては、Windows Defenderなどのセキュリティソフトがトロイの木馬と誤検知する場合があります。その場合は、回避できるように対処を講じるか、あるいは直接ターミナル上からpythonコマンドを実行してください。

# 使い方
- あらかじめzipファイルに変換したいファイルを用意し、特定のディレクトリに全て保管してください。
- "zip_password.app"を起動してください。もし実行ファイルが作成できなかった場合はターミナル上へ次のプロンプトを打ち込み、直接実行してください。
```
python zip_password.py
```
- ディレクト選択画面が表示されるので、用意したディレクトリを選択してください
- パスワードを入力してください。このパスワードはzipを解凍するための重要な情報なので、忘れずに管理してください。パスワードを忘れた場合、解凍はできず、圧縮したファイルの復元は不可能になります。
- パスワード入力後、圧縮処理の可否が問われるので、実行してください。
- ホームディレクトリに"ZipPassword"が作成され、その中に圧縮したzipファイルが保存されています。

# 補足事項
## zipに変換できるのはファイルのみ
フォルダをzipに変換することができません。このリポジトリはそのようなことを想定して作ってはいません。

## 権限エラーについて
このリポジトリはzipファイルを書き込むため、書き込み先に権限がない場合にエラーとなり、処理落ちする場合があります。その場合は、権限を付与するなどの対応が必要となります。

## トロイの木馬検知について
Windows環境でexeファイルを作成しようとすると、Wxindows Defenderでトロイの木馬を検知する場合があります。調べた限り、誤検知だと思われますが、その場合にexeファイルを設定したい場合は各自で責任をもって、セキュリティソフトをOFFにするなどの対応をしてください。

# 開発/検証環境の情報
## macOS
- CPU:Apple M1チップ
- メモリ:16GB
- macOS:Sonoma 14.6.1
- python 3.11.3

## Windows11
- CPU:AMD Ryzen 5 4500 6-Core Processor 36.0GHz
- メモリ:32GB
- GPU:NVIDIA GeForce RTX-4060
- Windows11
- python 3.10.6

# 免責事項
- この拡張機能はGitHub上で公開されています。この拡張機能を使用したことにより発生した被害や損害について、このアプリの開発者は一切関与致しません。
